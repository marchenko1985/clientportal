# Apply the global IBKR rate limit.
# burst=1000  up to 1000 requests queue beyond the 10 r/s rate before any are rejected
# delay=1000  ALL burst requests are delayed (queued), none forwarded immediately
#             Setting delay=burst means: no request is dropped; all wait their turn.
# Clients never receive 503. They wait. Worst-case wait = 1000/10 = 100s.
# proxy_read_timeout in snippets/clientportal.conf is 120s to accommodate this.
limit_req zone=global_api_limit burst=1000 delay=1000;
