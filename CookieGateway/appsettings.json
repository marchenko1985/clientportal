{
  "Logging": {
    "LogLevel": {
      "Default": "Information",
      "Microsoft.AspNetCore": "Warning"
    }
  },
  "AllowedHosts": "*",
  "HttpClientLogging": {
    "LogBody": true,
    "LogContentHeaders": true,
    "LogRequestStart": false,
    "RequestPathParameterRedactionMode": "None",
    "AllowedRequestHeaders": ["Cookie", "Authorization", "User-Agent"],
    "AllowedResponseHeaders": ["Set-Cookie"]
  },
  "AllowedOrigins": ["http://localhost:3000", "http://localhost:5000", "http://localhost:5001", "http://localhost:5002"],
  "ForwardedHeadersOptions": {
    "ForwardedHeaders": "XForwardedFor, XForwardedProto, XForwardedHost"
  },
  "Config": {
    "PingInterval": "00:01:00",
    "ReinitializeDelay": "00:00:05",
    "UserAgent": "ClientPortalGW/1"
  },
  "HttpStandardResilienceOptions": {
    "Retry": {
      "MaxRetryAttempts": 3,
      "Delay": "00:00:02",
      "UseJitter": true
    },
    "AttemptTimeout": {
      "Timeout": "00:00:15"
    },
    "TotalRequestTimeout": {
      "Timeout": "00:01:00"
    },
    "CircuitBreaker": {
      "BreakDuration": "00:00:30",
      "FailureRatio": 0.5,
      "MinimumThroughput": 4,
      "SamplingDuration": "00:00:30"
    }
  },
  "ReverseProxy": {
    "Routes": {
      "WebSocket": {
        "ClusterId": "InteractiveBrokers",
        "Match": { "Path": "/v1/api/ws", "Methods": ["GET"] }
      },
      "Ping": {
        "ClusterId": "InteractiveBrokers",
        "Match": { "Path": "/v1/api/tickle", "Methods": ["POST"] }
      },
      "Search": {
        "ClusterId": "InteractiveBrokers",
        "Match": { "Path": "/v1/api/iserver/secdef/search", "Methods": ["GET"] }
      },
      "History": {
        "ClusterId": "InteractiveBrokers",
        "Match": { "Path": "/v1/api/iserver/marketdata/history", "Methods": ["GET"] }
      }
    },
    "Clusters": {
      "InteractiveBrokers": {
        "Destinations": {
          "Primary": { "Address": "https://api.ibkr.com" }
        }
      }
    }
  }
}
